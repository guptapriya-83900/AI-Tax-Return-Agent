<!DOCTYPE html>
<html>
<head>
    <title>Upload Result</title>
</head>
<body class="container py-5">
    <h2>Uploaded Files</h2>
    <ul>
        {% for file in files %}
            <li><a href="{{ url_for('uploaded_file', filename=file) }}">{{ file }}</a></li>
        {% endfor %}
    </ul>

    <h3>Personal Info:</h3>
    <p>Name: {{ info.name }}</p>
    <p>Filing Status: {{ info.filing_status }}</p>
    <p>Dependents: {{ info.dependents }}</p>

    <h3>Extracted Data:</h3>
    {% for data in parsed_data %}
        <h5>{{ data.filename }} ({{ data.type }})</h5>
        <ul>
            {% for key, value in data.items() %}
                {% if key not in ['filename', 'raw_text'] %}
                    <li><strong>{{ key }}:</strong> {{ value }}</li>
                {% endif %}
            {% endfor %}
        </ul>
    {% endfor %}

    <h3>Tax Summary:</h3>
    <ul>
        <li><strong>Total Income:</strong> ${{ tax_summary.total_income }}</li>
        <li><strong>Standard Deduction:</strong> ${{ tax_summary.standard_deduction }}</li>
        <li><strong>Taxable Income:</strong> ${{ tax_summary.taxable_income }}</li>
        <li><strong>Tax Due:</strong> ${{ tax_summary.tax_due }}</li>
        <li><strong>Total Withheld:</strong> ${{ tax_summary.withheld }}</li>
        <li><strong>Refund or Amount Owed:</strong> ${{ tax_summary.refund_or_owe }}</li>
    </ul>


</body>
</html>
